<html>
<head>
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<body>
<input id="searchQueryBox" style="width:80%"></input>
<button id="search">Search</button>
<button id="random-keyword">Random Keyword</button>
<pre id="autocomplete-results" style="border: 1px solid pink"></pre>
<pre id="results"></pre>


<script>

$("#searchQueryBox").change(function () {
  var searchQuery = $("#searchQueryBox").val();
  $.get('/autocomplete/' + searchQuery, function (res, err) {
    console.log(res);
    $("#autocomplete-results").empty().append(res.join('\n'));
  });
});

$("#search").click(function () {
  var searchQuery = $("#searchQueryBox").val();
  console.log(searchQuery);

  $.get('/sentences/' + searchQuery, function (res, err) {
    console.log(res);
    $("#results").text(res.map(function (result) {
      return result.sentence;
    }).join('\n'));
  });

});

$("#random-keyword").click(function () {
  $.get('/random-keyword', function (res, err) {
    console.log(res);
    $("#searchQueryBox").val(res);
    $("#search").click();
  });
});

</script>

</html>
